<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.annaru.upms.mapper.ExamInspectReportMapper">

	<!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.annaru.upms.entity.ExamInspectReport" >
        <result column="id" property="id" />
        <result column="reportNO" property="REPORTNO"/>
        <result column="appBarcode" property="APPBARCODE"/>
        <result column="exeBarcode" property="EXEBARCODE"/>
        <result column="BRXM" property="BRXM" />
        <result column="BRXB" property="BRXB" />
        <result column="BRNL" property="BRNL" />
        <result column="BBZL" property="BBZL" />
        <result column="BBXZ" property="BBXZ" />
        <result column="SJGDM" property="SJGDM" />
        <result column="DJGDM" property="DJGDM" />
        <result column="SJRQ" property="SJRQ" />
        <result column="SFJE" property="SFJE" />
        <result column="FJJE" property="FJJE" />
        <result column="ZKL" property="ZKL" />
        <result column="SJJE" property="SJJE" />
        <result column="BGBH" property="BGBH" />
        <result column="JYYS" property="JYYS" />
        <result column="SHYS" property="SHYS" />
        <result column="PZR" property="PZR" />
        <result column="CYSJ" property="CYSJ" />
        <result column="JSSJ" property="JSSJ" />
        <result column="JCSJ" property="JCSJ" />
        <result column="SHSJ" property="SHSJ" />
        <result column="BGLX" property="BGLX" />
        <result column="WJBZ" property="WJBZ" />
        <result column="WCBZ" property="WCBZ" />
        <result column="LCZD" property="LCZD" />
        <result column="BZ" property="BZ" />
        <result column="YBBH" property="YBBH" />
        <result column="BRCH" property="BRCH" />
        <result column="BRID" property="BRID" />
        <result column="BRKS" property="BRKS" />
        <result column="BGDURL" property="BGDURL" />
        <result column="logID" property="logID" />
    </resultMap>
    
    <sql id="BaseClounmSql">
          id,
          reportNO,
          appBarcode,
          exeBarcode,
          BRXM,
          BRXB,
          BRNL,
          BBZL,
          BBXZ,
          SJGDM,
          DJGDM,
          SJRQ,
          SFJE,
          FJJE,
          ZKL,
          SJJE,
          BGBH,
          JYYS,
          SHYS,
          PZR,
          CYSJ,
          JSSJ,
          JCSJ,
          SHSJ,
          BGLX,
          WJBZ,
          WCBZ,
          LCZD,
          BZ,
          YBBH,
          BRCH,
          BRID,
          BRKS,
          BGDURL,
          logID
    </sql>

    <sql id="ListClounmSql">
          id,
          reportNO,
          appBarcode,
          exeBarcode,
          WJBZ,
          WCBZ,
          BGDURL
    </sql>

    <!-- 多表页面信息查询分页 -->
    <select id="selectDataPage" parameterType="map" resultType="map">

        SELECT
            <include refid="ListClounmSql"></include>
        FROM
            exam_inspect_report
        <where>
            <if test="params.logID != null and params.logID != ''">
                logID = #{params.logID}
            </if>
            <if test="params.sjgdm != null and params.sjgdm != ''">
                AND SJGDM = #{params.sjgdm}
            </if>
            <if test="params.djgdm != null and params.djgdm != ''">
                AND DJGDM = #{params.key}
            </if>
            <if test="params.appBarcode != null and params.appBarcode != '' ">
                AND AppBarcode = #{params.appBarcode}
            </if>
            <if test="params.exeBarcode != null and params.exeBarcode != '' ">
                AND ExeBarcode = #{params.exeBarcode}
            </if>
            <if test="params.bglx != null and params.bglx != ''">
                AND BGLX = #{params.bglx}
            </if>
            <if test="params.startDate != null and params.startDate != '' ">
                AND SHSJ &gt; #{params.startDate}
            </if>
            <if test="params.endDate != null and params.endDate != '' ">
                AND SHSJ &lt; #{params.endDate}
            </if>
        </where>
    </select>

    <select id="selectDataList" resultType="map">
        SELECT
            <include refid="ListClounmSql"></include>
        FROM
            exam_inspect_report
        <where>
            <if test="params.logID != null and params.logID != ''">
                logID = #{params.logID}
            </if>
            <if test="params.sjgdm != null and params.sjgdm != ''">
                AND SJGDM = #{params.sjgdm}
            </if>
            <if test="params.djgdm != null and params.djgdm != ''">
                AND DJGDM = #{params.key}
            </if>
            <if test="params.appBarcode != null and params.appBarcode != '' ">
                AND AppBarcode = #{params.appBarcode}
            </if>
            <if test="params.exeBarcode != null and params.exeBarcode != '' ">
                AND ExeBarcode = #{params.exeBarcode}
            </if>
            <if test="params.bglx != null and params.bglx != ''">
                AND BGLX = #{params.bglx}
            </if>
            <if test="params.startDate != null and params.startDate != '' ">
                AND SHSJ &gt; #{params.startDate}
            </if>
            <if test="params.endDate != null and params.endDate != '' ">
                AND SHSJ &lt; #{params.endDate}
            </if>
        </where>
    </select>

    <select id="selectByReportNO" resultType="com.annaru.upms.entity.ExamInspectReport">
        SELECT
            <include refid="BaseClounmSql"></include>
        FROM
            exam_inspect_report
        <where>
            <if test="ReportNO != null and ReportNO != '' ">
                ReportNO = #{ReportNO}
            </if>
            <if test="logID != null and logID != '' ">
                AND logID = #{logID}
            </if>
        </where>
        LIMIT 1
    </select>


</mapper>